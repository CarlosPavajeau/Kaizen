<section class="container">
  <div>
    <h1 class="text-center">Solicitudes de clientes</h1>
    <br />
    <h3>
      Están pendientes {{ clientRequests?.length }} solicitudes de clientes.
      Puede revisarlas para luego aceptar o rechazar a cualquier cliente.
    </h3>
  </div>
  <mat-divider></mat-divider>
  <div style="padding-top: 1.5rem;">
    <mat-accordion>
      <mat-expansion-panel *ngFor="let clientRequest of clientRequests">
        <mat-expansion-panel-header>
          <mat-panel-title
            >Solicitud de {{ clientRequest.firstName }}
            {{ clientRequest.lastName }}</mat-panel-title
          >
          <mat-panel-description>
            Esta solicitud está pendiente
            <mat-icon
              color="warn"
              [matTooltip]="'Click para ver más información'"
              [matTooltipShowDelay]="300"
              [matTooltipPosition]="'above'"
              >info</mat-icon
            >
          </mat-panel-description>
        </mat-expansion-panel-header>
        <h4>
          El cliente identificado con C.C.
          <strong>{{ clientRequest.id }}</strong> llamado
          {{ clientRequest.firstName }} {{ clientRequest.secondName }}
          {{ clientRequest.lastName }} {{ clientRequest.secondLastName }}
          <span *ngIf="clientRequest.tradeName"
            >, con nombre comercial
            <strong>{{ clientRequest.tradeName }}</strong></span
          >
          tiene pendiente su solicitud.
          <hr />
          Tiene como télefono de contacto
          <strong>{{ clientRequest.firstPhoneNumber }}</strong>
          <span *ngIf="clientRequest.clientAddress">
            , úbicado en la ciudad de
            {{ clientRequest.clientAddress.city }}, barrio
            {{ clientRequest.clientAddress.neighborhood }}, calle
            {{ clientRequest.clientAddress.street }}
          </span>
          .
        </h4>
        <mat-action-row>
          <button
            mat-button
            color="primary"
            (click)="acceptClient(clientRequest)"
          >
            Aceptar
          </button>
          <button mat-button color="warn" (click)="rejectClient(clientRequest)">
            Rechazar
          </button>
          <a
            mat-button
            class="royal_azure"
            routerLink="/clients/requests/{{ clientRequest.id }}"
          >
            Ver más información
          </a>
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</section>
