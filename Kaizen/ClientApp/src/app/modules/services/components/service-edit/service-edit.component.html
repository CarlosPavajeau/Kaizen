<section class="container">
  <div *ngIf="service">
    <h1 class="text-center">
      Edición de los datos del servicio {{ service.name }}
    </h1>
    <mat-tab-group
      mat-stretch-tabs
      (selectedTabChange)="selectedTabChange($event)"
    >
      <mat-tab>
        <ng-template mat-tab-label>Datos básicos</ng-template>
        <ng-template matTabContent>
          <form [formGroup]="basicDataForm">
            <div class="form-element">
              <mat-form-field>
                <mat-label>Nombre</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="Ejemplo: Control de roedores"
                  formControlName="name"
                />
                <mat-hint>Digite el nombre del servicio</mat-hint>
                <mat-error *ngIf="controls['name'].hasError('required')">
                  El nombre del servicio es requerido
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-element form-select">
              <mat-form-field>
                <mat-label>Tipo de servicio</mat-label>
                <mat-select required formControlName="serviceType">
                  <mat-option
                    *ngFor="let serviceType of serviceTypes"
                    [value]="serviceType.id"
                  >
                    {{ serviceType.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="controls['serviceType'].hasError('required')">
                  Debe seleccionar el tipo de servicio
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-element">
              <mat-form-field>
                <mat-label>Costo</mat-label>
                <input
                  type="number"
                  matInput
                  placeholder="Ejemplo: 30000$"
                  formControlName="cost"
                />
                <mat-hint>Digite el costo del servicio</mat-hint>
                <mat-error *ngIf="controls['cost'].hasError('required')">
                  El precio del servicio es requerido
                </mat-error>
              </mat-form-field>
            </div>
          </form>
          <div class="form-buttons">
            <button
              mat-raised-button
              class="royal_azure"
              (click)="updateBasicData()"
            >
              Actualizar datos básicos
            </button>
          </div>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>Equipos asignados</ng-template>
        <ng-template matTabContent>
          <app-select-equipments #selectEquipments></app-select-equipments>
          <div class="form-buttons">
            <button
              mat-raised-button
              class="royal_azure"
              (click)="updateEquipments()"
            >
              Actualizar equipos asignados
            </button>
          </div>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>Productos asignados</ng-template>
        <ng-template matTabContent>
          <app-select-products #selectProducts></app-select-products>
          <div class="form-buttons">
            <button
              mat-raised-button
              class="royal_azure"
              (click)="updateProducts()"
            >
              Actualizar productos asignados
            </button>
          </div>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>Empleados asignados</ng-template>
        <ng-template matTabContent>
          <app-select-employees #selectEmployees></app-select-employees>
          <div class="form-buttons">
            <button
              mat-raised-button
              class="royal_azure"
              (click)="updateEmployees()"
            >
              Actualizar empleados asignados
            </button>
          </div>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>
</section>
